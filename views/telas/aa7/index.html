<script>
    window["aa7"] = {
        indice: "aa7",
        status: false,
        video: null
    }

    $("body").on('navegacaoComplete', function() {

        stopVideoAA7();

        if ((course.config[course.indice].id).toUpperCase() == ("aa7").toUpperCase()) {

            var _tela = window[course.config[course.indice].id];
            var _containerTela = $(".container" + (_tela.indice).toUpperCase());

            //posiciona o elemento com base no tamanho real da imagem de fundo COVER
            _containerTela.find(".posicionar").positionCSS({
                img_H: course.height,
                img_W: course.width
            });

            reset();
            if (_tela.status == false) {
                _tela.status = true;

                nav();


            } else {

            }

            function nav() {

                window["aa7"].video = document.getElementById("videoAA7");

                var _stepAll = _containerTela.find(".step").length;
                var _i = 0;

                while (_i < _stepAll) {
                    _i += 1;
                    _containerTela.find(".pinAll").append(
                        '<div class="pin pin' + _i + '" step=' + _i + '></div>'
                    )
                }
                _containerTela.find(".pin1").addClass('pinAtivo');
                _containerTela.find(".pin").on('click', function() {
                    var _step = $(this).attr('step');

                    _containerTela.find(".pin").removeClass('pinAtivo');
                    $(this).addClass('pinAtivo');

                    _containerTela.find(".nleft").css('display', 'flex');
                    _containerTela.find(".nright").css('display', 'flex');

                    if (_step == 1)
                        _containerTela.find(".nleft").css('display', 'none');

                    if (_step == _stepAll) {
                        _containerTela.find(".nright").css('display', 'none');
                        course.liberarNavegacao();
                    }

                    _containerTela.find(".step").css('display', 'none');
                    _containerTela.find(".step" + _step).css('display', 'flex');

                    stopVideoAA7();

                });

                _containerTela.find(".nleft").on('click', function() {

                    var _step = parseInt($(this).parent().attr('stepAtivo')) - 1;
                    $(this).parent().attr('stepAtivo', _step);

                    _containerTela.find(".nright").css('display', 'flex');

                    if (_step == 1)
                        _containerTela.find(".nleft").css('display', 'none');

                    _containerTela.find(".step").css('display', 'none');
                    _containerTela.find(".step" + _step).css('display', 'flex');
                    _containerTela.find(".pin").removeClass('pinAtivo');
                    _containerTela.find(".pin" + _step).addClass('pinAtivo');

                    stopVideoAA7();

                });

                _containerTela.find(".nright").on('click', function() {

                    var _step = parseInt($(this).parent().attr('stepAtivo')) + 1;


                    _containerTela.find(".nleft").css('display', 'flex');

                    if (_step == _stepAll) {
                        _containerTela.find(".nright").css('display', 'none');
                        course.liberarNavegacao();
                    }


                    $(this).parent().attr('stepAtivo', _step);

                    _containerTela.find(".step").css('display', 'none');
                    _containerTela.find(".step" + _step).css('display', 'flex');
                    _containerTela.find(".pin").removeClass('pinAtivo');
                    _containerTela.find(".pin" + _step).addClass('pinAtivo');

                    stopVideoAA7();
                });

                _containerTela.find(".placeholder").on('click', function() {
                    $(this).css('display', 'none');
                    playVideoAA7();
                })


                //
                _containerTela.find(".feedX").css('display', 'none');
                _containerTela.find(".itemDY").on('click', function() {
                    _containerTela.find(".feedPDF").css('display', 'flex');
                });


                _containerTela.find(".feedPDF .closeX").on('click', function() {
                    _containerTela.find(".feedPDF").css('display', 'none');
                });

            }



            function reset() {
                _containerTela.find(".nav").attr('stepAtivo', 1);
                _containerTela.find(".step").css('display', 'none');
                _containerTela.find(".nX").css('display', 'none');

                _containerTela.find(".nright").css('display', 'flex');
                _containerTela.find(".step1").css('display', 'flex');

                _containerTela.find(".pin").removeClass('pinAtivo');
                _containerTela.find(".pin1").addClass('pinAtivo');
            }


        }
    })

    function playVideoAA7() {
        if (window["aa7"].video != null) {
            window["aa7"].video.play();
        }
    }

    function stopVideoAA7() {
        if (window["aa7"].video != null) {
            window["aa7"].video.pause();
        }
    }
</script>


<div class="containerAA7 containerAABase">

    <div class="containerGeral">

        <div class="baseFundo posicionar animated fadeIn delay0_4" px="300" py="200"></div>

        <div class="bloco posicionar animated fadeIn delay0_8" px="405" py="325">

            <div class="pinAll">
                <!-- <div class="pin"></div>
                <div class="pin"></div> -->
            </div>

            <div class="nav branco size30" stepAtivo=1>
                <div class="nX nleft">
                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                </div>
                <div class="nX nright">
                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                </div>
            </div>

            <div class="step step1 animated fadeIn delay0_2" step=1>
                <div class="pc">
                    <video id="videoAA7" class="videoBase" controls poster="anexos/videoAA7.png">
                        <source src="anexos/videoAA7.mp4" type="video/mp4">
                    </video>
                    <div class="placeholder">
                        <i class="far fa-play-circle"></i>
                    </div>
                </div>
                <div class="text branco bold size42">
                    Homenagem do Ministério da Saúde
                </div>
            </div>

            <div class="step step2 stepXD animated fadeIn delay0_2" step=2>
                <div class="imgX"></div>
                <div class="text size41 branco">
                    Homenagens são um alento relevante. Expressam reconhecimento da sociedade pelos esforços envidados. No entanto, não bastam.
                </div>
            </div>

            <div class="step step3 stepXD animated fadeIn delay0_2" step=3>
                <div class="imgX"></div>
                <div class="text size41 branco">
                    <div class="animated fadeIn delay0_4">
                        Desde abril de 2020, o <a href="http://conselho.saude.gov.br" target="_blank">Conselho Nacional de Saúde</a> indicava a complexidade do tema relacionado à saúde dos trabalhadores da saúde no contexto pandêmico.
                    </div>
                    <div class="barraDataContent animated fadeIn delay0_6 mt20">
                        <div class="livro mr30"></div>
                        <div class="subT">
                            <div class="tituDa bold size24">
                                LEITURA COMPLEMENTAR 2:
                            </div>
                            <div class="mt5 size22 itemDY">
                                Recomendação CNS para Profissionais da Saúde
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>


        <div class="feedX feedPDF animated fadeIn">
            <div class="fundoFeedsConteiner"></div>

            <div class="baseFundoFeed posicionar animated fadeIn delay0_2" px="0" py="0">
                <div class="content animated fadeIn branco">
                    <div class="closeX">
                        <i class="fas fa-times"></i>
                    </div>
                    <iframe src="anexos/leituraComplementar2/index.html" frameborder="0"></iframe>
                </div>
            </div>
        </div>

    </div>

</div>