<script>
    window["aa11"] = {
        indice: "aa11",
        status: false,
        video: null
    }

    $("body").on('navegacaoComplete', function() {

        stopVideoAA11();

        if ((course.config[course.indice].id).toUpperCase() == ("aa11").toUpperCase()) {

            var _tela = window[course.config[course.indice].id];
            var _containerTela = $(".container" + (_tela.indice).toUpperCase());

            //posiciona o elemento com base no tamanho real da imagem de fundo COVER
            _containerTela.find(".posicionar").positionCSS({
                img_H: course.height,
                img_W: course.width
            });

            reset();
            if (_tela.status == false) {
                _tela.status = true;

                nav();


            } else {

            }

            function nav() {

                window["aa11"].video = document.getElementById("videoAA11");

                var _stepAll = _containerTela.find(".step").length;
                var _i = 0;

                while (_i < _stepAll) {
                    _i += 1;
                    _containerTela.find(".pinAll").append(
                        '<div class="pin pin' + _i + '" step=' + _i + '></div>'
                    )
                }
                _containerTela.find(".pin1").addClass('pinAtivo');
                _containerTela.find(".pin").on('click', function() {
                    var _step = $(this).attr('step');

                    _containerTela.find(".pin").removeClass('pinAtivo');
                    $(this).addClass('pinAtivo');

                    _containerTela.find(".nleft").css('display', 'flex');
                    _containerTela.find(".nright").css('display', 'flex');

                    if (_step == 1)
                        _containerTela.find(".nleft").css('display', 'none');

                    if (_step == _stepAll) {
                        _containerTela.find(".nright").css('display', 'none');
                        course.liberarNavegacao();
                    }

                    _containerTela.find(".step").css('display', 'none');
                    _containerTela.find(".step" + _step).css('display', 'flex');

                    stopVideoAA11();

                });

                _containerTela.find(".nleft").on('click', function() {

                    var _step = parseInt($(this).parent().attr('stepAtivo')) - 1;
                    $(this).parent().attr('stepAtivo', _step);

                    _containerTela.find(".nright").css('display', 'flex');

                    if (_step == 1)
                        _containerTela.find(".nleft").css('display', 'none');

                    _containerTela.find(".step").css('display', 'none');
                    _containerTela.find(".step" + _step).css('display', 'flex');
                    _containerTela.find(".pin").removeClass('pinAtivo');
                    _containerTela.find(".pin" + _step).addClass('pinAtivo');

                    stopVideoAA11();

                });

                _containerTela.find(".nright").on('click', function() {

                    var _step = parseInt($(this).parent().attr('stepAtivo')) + 1;


                    _containerTela.find(".nleft").css('display', 'flex');

                    if (_step == _stepAll) {
                        _containerTela.find(".nright").css('display', 'none');
                        course.liberarNavegacao();
                    }


                    $(this).parent().attr('stepAtivo', _step);

                    _containerTela.find(".step").css('display', 'none');
                    _containerTela.find(".step" + _step).css('display', 'flex');
                    _containerTela.find(".pin").removeClass('pinAtivo');
                    _containerTela.find(".pin" + _step).addClass('pinAtivo');

                    stopVideoAA11();
                });

                _containerTela.find(".placeholder").on('click', function() {
                    $(this).css('display', 'none');
                    playVideoAA11();
                })

            }

            function reset() {
                _containerTela.find(".nav").attr('stepAtivo', 1);
                _containerTela.find(".step").css('display', 'none');
                _containerTela.find(".nX").css('display', 'none');

                _containerTela.find(".nright").css('display', 'flex');
                _containerTela.find(".step1").css('display', 'flex');

                _containerTela.find(".pin").removeClass('pinAtivo');
                _containerTela.find(".pin1").addClass('pinAtivo');
            }


        }
    })

    function playVideoAA11() {
        if (window["aa11"].video != null) {
            window["aa11"].video.play();
        }
    }

    function stopVideoAA11() {
        if (window["aa11"].video != null) {
            window["aa11"].video.pause();
        }
    }
</script>


<div class="containerAA11 containerAABase">

    <div class="containerGeral">

        <div class="baseFundo posicionar animated fadeIn delay0_4" px="300" py="200"></div>

        <div class="bloco posicionar animated fadeIn delay0_8" px="405" py="325">

            <div class="pinAll">
                <!-- <div class="pin"></div>
                <div class="pin"></div> -->
            </div>

            <div class="nav branco size30" stepAtivo=1>
                <div class="nX nleft">
                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                </div>
                <div class="nX nright">
                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                </div>
            </div>


            <div class="step step1 stepXD animated fadeIn delay0_2 size34 branco" step=1>
                <div>
                    <div class="text size40 up bold">
                        PARA FACILITAR UMA RESPOSTA SISTÊMICA
                    </div>
                    <div class="mt20">
                        Exemplos de perguntas para orientar as ações:
                    </div>
                    <ul>
                        <li>
                            Que tipo de mecanismos de coordenação e supervisão devem existir?
                        </li>
                        <li>
                            O sistema está equipado para implementá-los?
                        </li>
                        <li>
                            Existem recursos financeiros disponíveis?
                        </li>
                    </ul>
                </div>
            </div>

            <div class="step step2 animated fadeIn delay0_2 branco" step=2>
                <div>
                    <div class="size40 up bold center">
                        MESAS DE NEGOCIAÇÃO DO SUS
                    </div>
                    <div class="step2Init mt20">
                        <div class="text  size34">
                            Que tipo de diálogo<br> é necessário para<br> implementar as<br> medidas que estão<br> sendo consideradas?<br><br> Vamos assistir ao vídeo?

                        </div>
                        <div class="pc">
                            <video id="videoAA11" class="videoBase" controls poster="anexos/videoAA11.png">
                                <source src="anexos/videoAA11.mp4" type="video/mp4">
                            </video>
                            <div class="placeholder">
                                <i class="far fa-play-circle"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>

    </div>

</div>